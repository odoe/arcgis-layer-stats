import{L as o}from"./index.96cac272.js";async function c(r,e){var t,y;let a=await l(r,e);a=a||{},a.layers=((t=a.layers)==null?void 0:t.filter(i))||[];const s={serviceJSON:a};if(a.currentVersion<10.5)return s;const n=await l(r+"/layers",e);return s.layersJSON={layers:((y=n==null?void 0:n.layers)==null?void 0:y.filter(i))||[],tables:(n==null?void 0:n.tables)||[]},s}function i(r){return!r.type||r.type==="Feature Layer"}async function l(r,e){return(await o(r,{responseType:"json",query:{f:"json",...e==null?void 0:e.customParameters,token:e==null?void 0:e.apiKey}})).data}export{l as a,c as r};
