import{eg as a,eh as P,ei as g}from"./index.96cac272.js";import{o as w}from"./byteSizeEstimations.0938bf46.js";import{n as B,b as M}from"./quatf64.74f3afdd.js";import{n as $}from"./mat4f64.ff2a477c.js";class E{constructor(t){this._allocator=t,this._items=[],this._itemsPtr=0,this._grow()}get(){return this._itemsPtr===0&&a(()=>this._reset()),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const t=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*o);this._items.length=Math.min(t,this._items.length),this._itemsPtr=0}_grow(){for(let t=0;t<Math.max(8,Math.min(this._items.length,o));t++)this._items.push(this._allocator())}}const o=1024;function f(){return[0,0]}function p(r){return[r[0],r[1]]}function h(r,t){return[r,t]}function y(r){const t=f(),i=Math.min(2,r.length);for(let s=0;s<i;++s)t[s]=r[s];return t}function c(r,t){return new Float64Array(r,t,2)}function u(){return f()}function m(){return h(1,1)}function _(){return h(1,0)}function l(){return h(0,1)}const b=u(),S=m(),z=_(),V=l();Object.freeze(Object.defineProperty({__proto__:null,create:f,clone:p,fromValues:h,fromArray:y,createView:c,zeros:u,ones:m,unitX:_,unitY:l,ZEROS:b,ONES:S,UNIT_X:z,UNIT_Y:V},Symbol.toStringTag,{value:"Module"}));class e{constructor(t,i,s){this._itemByteSize=t,this._itemCreate=i,this._buffers=new Array,this._items=new Array,this._itemsPtr=0,this._itemsPerBuffer=Math.ceil(s/this._itemByteSize)}get(){this._itemsPtr===0&&a(()=>this._reset());const t=Math.floor(this._itemsPtr/this._itemsPerBuffer);for(;this._buffers.length<=t;){const i=new ArrayBuffer(this._itemsPerBuffer*this._itemByteSize);for(let s=0;s<this._itemsPerBuffer;++s)this._items.push(this._itemCreate(i,s*this._itemByteSize));this._buffers.push(i)}return this._items[this._itemsPtr++]}_reset(){const t=2*(Math.floor(this._itemsPtr/this._itemsPerBuffer)+1);for(;this._buffers.length>t;)this._buffers.pop(),this._items.length=this._buffers.length*this._itemsPerBuffer;this._itemsPtr=0}static createVec2f64(t=n){return new e(16,c,t)}static createVec3f64(t=n){return new e(24,P,t)}static createVec4f64(t=n){return new e(32,g,t)}static createMat3f64(t=n){return new e(72,B,t)}static createMat4f64(t=n){return new e(128,$,t)}static createQuatf64(t=n){return new e(32,M,t)}get test(){return{size:this._buffers.length*this._itemsPerBuffer*this._itemByteSize}}}const n=4*w.KILOBYTES;e.createVec2f64();const I=e.createVec3f64();e.createVec4f64();e.createMat3f64();const N=e.createMat4f64();e.createQuatf64();export{b as a,I as c,N as f,f as n,E as s};
