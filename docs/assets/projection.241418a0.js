import{M as ot,_ as Ne,ac as rt,ad as g,ae as _e,af as V,ag as _t,t as N,ah as st,r as J,s as at,a0 as ce,ai as se,aj as De,ak as it,A as ut,l as Pt,m as Et,al as lt,am as ct,an as fe,ao as ft,ap as St,aq as At,ar as pt,as as Ct,at as Rt,au as Ot,av as Nt,aw as Tt,ax as Mt,ay as gt,az as Lt,aA as dt,aB as ht,aC as Gt,q as It,aD as yt,aE as Ft,aF as mt,aG as Wt}from"./index.96cac272.js";let Ce,_=null;function Xe(){return!!_}function wt(){return!!ot("esri-wasm")}function be(){return Ce||(Ce=Ne(()=>import("./pe-wasm.031781a0.js"),[]).then(e=>e.p).then(({default:e})=>e({locateFile:n=>rt(`esri/geometry/support/${n}`)})).then(e=>{Ze(e)}),Ce)}var Te,O,Me;(function(e){function n(a,u,s){_.ensureCache.prepare();const l=B(s),E=s===l,P=_.ensureFloat64(l),c=_._pe_geog_to_proj(_.getPointer(a),u,P);return c&&D(s,u,P,E),c}function t(a,u,s,l){switch(l){case O.PE_TRANSFORM_P_TO_G:return r(a,u,s);case O.PE_TRANSFORM_G_TO_P:return n(a,u,s)}return 0}function r(a,u,s){return i(a,u,s,0)}function i(a,u,s,l){_.ensureCache.prepare();const E=B(s),P=s===E,c=_.ensureFloat64(E),S=_._pe_proj_to_geog_center(_.getPointer(a),u,c,l);return S&&D(s,u,c,P),S}e.geogToProj=n,e.projGeog=t,e.projToGeog=r,e.projToGeogCenter=i})(Te||(Te={})),function(e){function n(){e.PE_BUFFER_MAX=_.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=_.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=_.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=_.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=_.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=_.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=_.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=_.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=_.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=_.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=_.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=_.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=_.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=_.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=_.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=_.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=_.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=_.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=_.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=_.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_PARM_X0=_.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=_.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=_.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=_.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=_.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=_.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=_.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=_.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=_.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=_.PeDefs.prototype.PE_HORIZON_DELTA}e.init=n}(O||(O={})),function(e){const n={},t={},r=f=>{if(f){const A=f.getType();switch(A){case O.PE_TYPE_GEOGCS:f=_.castObject(f,_.PeGeogcs);break;case O.PE_TYPE_PROJCS:f=_.castObject(f,_.PeProjcs);break;case O.PE_TYPE_GEOGTRAN:f=_.castObject(f,_.PeGeogtran);break;default:A&O.PE_TYPE_UNIT&&(f=_.castObject(f,_.PeUnit))}}return f};function i(){_.PeFactory.prototype.initialize(null)}function a(f){return u(O.PE_TYPE_COORDSYS,f)}function u(f,A){let p=null,C=n[f];if(C||(C={},n[f]=C),C.hasOwnProperty(String(A)))p=C[A];else{const T=_.PeFactory.prototype.factoryByType(f,A);_.compare(T,_.NULL)||(p=T,C[A]=p)}return p=r(p),p}function s(f,A){let p=null,C=t[f];if(C||(C={},t[f]=C),C.hasOwnProperty(A))p=C[A];else{const T=_.PeFactory.prototype.fromString(f,A);_.compare(T,_.NULL)||(p=T,C[A]=p)}return p=r(p),p}function l(f){return u(O.PE_TYPE_GEOGCS,f)}function E(f){return u(O.PE_TYPE_GEOGTRAN,f)}function P(f){return _.PeFactory.prototype.getCode(f)}function c(f){return u(O.PE_TYPE_PROJCS,f)}function S(f){return u(O.PE_TYPE_UNIT,f)}e.initialize=i,e.coordsys=a,e.factoryByType=u,e.fromString=s,e.geogcs=l,e.geogtran=E,e.getCode=P,e.projcs=c,e.unit=S}(Me||(Me={}));let ze=null;var ae,ge,Le,de,ie,he,ue,Pe,Ge;function Ze(e){function n(a,u,s){a[u]=s(a[u])}_=e,O.init(),ae.init(),ie.init(),ue.init(),Pe.init(),ze=class extends _.PeGCSExtent{destroy(){_.destroy(this)}};const t=[_.PeDatum,_.PeGeogcs,_.PeGeogtran,_.PeObject,_.PeParameter,_.PePrimem,_.PeProjcs,_.PeSpheroid,_.PeUnit];for(const a of t)n(a.prototype,"getName",u=>function(){return u.call(this,new Array(O.PE_NAME_MAX))});for(const a of[_.PeGeogtran,_.PeProjcs])n(a.prototype,"getParameters",u=>function(){const s=new Array(O.PE_PARM_MAX);let l=u.call(this);for(let E=0;E<s.length;E++){const P=_.getValue(l,"*");s[E]=P?_.wrapPointer(P,_.PeParameter):null,l+=Int32Array.BYTES_PER_ELEMENT}return s});n(_.PeHorizon.prototype,"getCoord",a=>function(){const u=this.getSize();if(!u)return null;const s=[];return D(s,u,a.call(this)),s}),n(_.PeGTlistExtendedEntry.prototype,"getEntries",a=>{const u=_._pe_getPeGTlistExtendedGTsSize();return function(){let s=null;const l=a.call(this);if(!_.compare(l,_.NULL)){s=[l];const E=this.getSteps();if(E>1){const P=_.getPointer(l);for(let c=1;c<E;c++)s.push(_.wrapPointer(P+u*c,_.PeGTlistExtendedGTs))}}return s}});const r=_._pe_getPeHorizonSize(),i=a=>function(){let u=this._cache;if(u||(u=new Map,this._cache=u),u.has(a))return u.get(a);let s=null;const l=a.call(this);if(!_.compare(l,_.NULL)){s=[l];const E=l.getNump();if(E>1){const P=_.getPointer(l);for(let c=1;c<E;c++)s.push(_.wrapPointer(P+r*c,_.PeHorizon))}}return u.set(a,s),s};n(_.PeProjcs.prototype,"horizonGcsGenerate",i),n(_.PeProjcs.prototype,"horizonPcsGenerate",i),_.PeObject.prototype.toString=function(a=O.PE_STR_OPTS_NONE){_.ensureCache.prepare();const u=_.getPointer(this),s=_.ensureInt8(new Array(O.PE_BUFFER_MAX));return _.UTF8ToString(_._pe_object_to_string_ext(u,a,s))}}function I(e){if(!e)return;const n=_.getClass(e);if(!n)return;const t=_.getCache(n);if(!t)return;const r=_.getPointer(e);r&&delete t[r]}function ne(e,n){const t=[],r=new Array(n);for(let i=0;i<e;i++)t.push(_.ensureInt8(r));return t}function B(e){let n;return Array.isArray(e[0])?(n=[],e.forEach(t=>{n.push(t[0],t[1])})):n=e,n}function D(e,n,t,r=!1){if(r)for(let i=0;i<2*n;i++)e[i]=_.getValue(t+i*Float64Array.BYTES_PER_ELEMENT,"double");else{const i=e.length===0;for(let a=0;a<n;a++)i&&(e[a]=new Array(2)),e[a][0]=_.getValue(t,"double"),e[a][1]=_.getValue(t+Float64Array.BYTES_PER_ELEMENT,"double"),t+=2*Float64Array.BYTES_PER_ELEMENT}}(function(e){let n;function t(){e.PE_GTLIST_OPTS_COMMON=_.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,n=_._pe_getPeGTlistExtendedEntrySize()}function r(i,a,u,s,l,E){let P=null;const c=new _.PeInteger(E);try{const S=_.PeGTlistExtended.prototype.getGTlist(i,a,u,s,l,c);if((E=c.val)&&(P=[S],E>1)){const f=_.getPointer(S);for(let A=1;A<E;A++)P.push(_.wrapPointer(f+n*A,_.PeGTlistExtendedEntry))}}finally{_.destroy(c)}return P}e.init=t,e.getGTlist=r})(ae||(ae={})),function(e){function n(t){if(t&&t.length){for(const r of t)I(r),r.getEntries().forEach(i=>{I(i);const a=i.getGeogtran();I(a),a.getParameters().forEach(I),[a.getGeogcs1(),a.getGeogcs2()].forEach(u=>{I(u);const s=u.getDatum();I(s),I(s.getSpheroid()),I(u.getPrimem()),I(u.getUnit())})});_.PeGTlistExtendedEntry.prototype.Delete(t[0])}}e.destroy=n}(ge||(ge={})),function(e){function n(t,r,i,a,u){_.ensureCache.prepare();const s=B(i),l=i===s,E=_.ensureFloat64(s);let P=0;a&&(P=_.ensureFloat64(a));const c=_._pe_geog_to_geog(_.getPointer(t),r,E,P,u);return c&&D(i,r,E,l),c}e.geogToGeog=n}(Le||(Le={})),function(e){const n=(E,P,c,S,f,A)=>{let p,C;switch(_.ensureCache.prepare(),E){case"dd":p=_._pe_geog_to_dd,C=O.PE_DD_MAX;break;case"ddm":p=_._pe_geog_to_ddm,C=O.PE_DDM_MAX;break;case"dms":p=_._pe_geog_to_dms,C=O.PE_DMS_MAX}let T=0;P&&(T=_.getPointer(P));const y=B(S),F=_.ensureFloat64(y),m=ne(c,C),G=p(T,c,F,f,_.ensureInt32(m));if(G)for(let L=0;L<c;L++)A[L]=_.UTF8ToString(m[L]);return G},t=(E,P,c,S,f)=>{let A;switch(_.ensureCache.prepare(),E){case"dd":A=_._pe_dd_to_geog;break;case"ddm":A=_._pe_ddm_to_geog;break;case"dms":A=_._pe_dms_to_geog}let p=0;P&&(p=_.getPointer(P));const C=S.map(m=>_.ensureString(m)),T=_.ensureInt32(C),y=_.ensureFloat64(new Array(2*c)),F=A(p,c,T,y);return F&&D(f,c,y),F};function r(E,P,c,S,f){return n("dms",E,P,c,S,f)}function i(E,P,c,S){return t("dms",E,P,c,S)}function a(E,P,c,S,f){return n("ddm",E,P,c,S,f)}function u(E,P,c,S){return t("ddm",E,P,c,S)}function s(E,P,c,S,f){return n("dd",E,P,c,S,f)}function l(E,P,c,S){return t("dd",E,P,c,S)}e.geogToDms=r,e.dmsToGeog=i,e.geogToDdm=a,e.ddmToGeog=u,e.geogToDd=s,e.ddToGeog=l}(de||(de={})),function(e){function n(){e.PE_MGRS_STYLE_NEW=_.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=_.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=_.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=_.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=_.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function t(i,a,u,s,l,E,P){_.ensureCache.prepare();let c=0;i&&(c=_.getPointer(i));const S=B(u),f=_.ensureFloat64(S),A=ne(a,O.PE_MGRS_MAX),p=_.ensureInt32(A),C=_._pe_geog_to_mgrs_extended(c,a,f,s,l,E,p);if(C)for(let T=0;T<a;T++)P[T]=_.UTF8ToString(A[T]);return C}function r(i,a,u,s,l){_.ensureCache.prepare();let E=0;i&&(E=_.getPointer(i));const P=u.map(A=>_.ensureString(A)),c=_.ensureInt32(P),S=_.ensureFloat64(new Array(2*a)),f=_._pe_mgrs_to_geog_extended(E,a,c,s,S);return f&&D(l,a,S),f}e.init=n,e.geogToMgrsExtended=t,e.mgrsToGeogExtended=r}(ie||(ie={})),function(e){function n(r,i,a,u,s,l,E){_.ensureCache.prepare();let P=0;r&&(P=_.getPointer(r));const c=B(a),S=_.ensureFloat64(c),f=ne(i,O.PE_MGRS_MAX),A=_.ensureInt32(f),p=_._pe_geog_to_usng(P,i,S,u,s,l,A);if(p)for(let C=0;C<i;C++)E[C]=_.UTF8ToString(f[C]);return p}function t(r,i,a,u){_.ensureCache.prepare();let s=0;r&&(s=_.getPointer(r));const l=a.map(S=>_.ensureString(S)),E=_.ensureInt32(l),P=_.ensureFloat64(new Array(2*i)),c=_._pe_usng_to_geog(s,i,E,P);return c&&D(u,i,P),c}e.geogToUsng=n,e.usngToGeog=t}(he||(he={})),function(e){function n(){e.PE_UTM_OPTS_NONE=_.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=_.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=_.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function t(i,a,u,s,l){_.ensureCache.prepare();let E=0;i&&(E=_.getPointer(i));const P=B(u),c=_.ensureFloat64(P),S=ne(a,O.PE_UTM_MAX),f=_.ensureInt32(S),A=_._pe_geog_to_utm(E,a,c,s,f);if(A)for(let p=0;p<a;p++)l[p]=_.UTF8ToString(S[p]);return A}function r(i,a,u,s,l){_.ensureCache.prepare();let E=0;i&&(E=_.getPointer(i));const P=u.map(A=>_.ensureString(A)),c=_.ensureInt32(P),S=_.ensureFloat64(new Array(2*a)),f=_._pe_utm_to_geog(E,a,c,s,S);return f&&D(l,a,S),f}e.init=n,e.geogToUtm=t,e.utmToGeog=r}(ue||(ue={})),function(e){const n=new Map;function t(){e.PE_PCSINFO_OPTION_NONE=_.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=_.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=_.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=_.PePCSInfo.prototype.PE_POLE_POINT}function r(i,a=e.PE_PCSINFO_OPTION_DOMAIN){let u=null,s=null;return n.has(i)&&(s=n.get(i),s[a]&&(u=s[a])),u||(u=_.PePCSInfo.prototype.generate(i,a),s||(s=[],n.set(i,s)),s[a]=u),u}e.init=t,e.generate=r}(Pe||(Pe={})),function(e){function n(){return _.PeVersion.prototype.version_string()}e.versionString=n}(Ge||(Ge={}));const Ut=Object.freeze(Object.defineProperty({__proto__:null,get _pe(){return _},isLoaded:Xe,isSupported:wt,load:be,get PeCSTransformations(){return Te},get PeDefs(){return O},get PeFactory(){return Me},get PeGCSExtent(){return ze},get PeGTlistExtended(){return ae},get PeGTlistExtendedEntry(){return ge},get PeGTTransformations(){return Le},get PeNotationDms(){return de},get PeNotationMgrs(){return ie},get PeNotationUsng(){return he},get PeNotationUtm(){return ue},get PePCSInfo(){return Pe},get PeVersion(){return Ge},_init:Ze},Symbol.toStringTag,{value:"Module"})),W=g.radius,d=g.eccentricitySquared,Dt={a1:W*d,a2:W*d*W*d,a3:W*d*d/2,a4:W*d*W*d*2.5,a5:W*d+W*d*d/2,a6:1-d};1/294.9786982,1/298.257222101,g.radius,g.flattening,_e.radius,_e.flattening,1/192.0430107526882,V.radius,V.flattening,1/10.2079945799458,1/43.61604095563141,V.radius;let oe=0;class b{constructor(n){this.uid=oe++,n?(this._wkt=n.wkt!=null?n.wkt:null,this._wkid=n.wkid!=null?n.wkid:-1,this._isInverse=n.isInverse!=null&&n.isInverse===!0):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}static fromGE(n){const t=new b;return t._wkt=n.wkt,t._wkid=n.wkid,t._isInverse=n.isInverse,t}get wkt(){return this._wkt}set wkt(n){this._wkt=n,this.uid=oe++}get wkid(){return this._wkid}set wkid(n){this._wkid=n,this.uid=oe++}get isInverse(){return this._isInverse}set isInverse(n){this._isInverse=n,this.uid=oe++}getInverse(){const n=new b;return n._wkt=this.wkt,n._wkid=this._wkid,n._isInverse=!this.isInverse,n}}class H{constructor(n){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,n&&n.steps)for(const t of n.steps)t instanceof b?this.steps.push(t):this.steps.push(new b({wkid:t.wkid,wkt:t.wkt,isInverse:t.isInverse}))}static cacheKey(n,t){return[n.wkid!==void 0&&n.wkid!==null?n.wkid.toString():"-1",n.wkt!==void 0&&n.wkt!==null?n.wkt.toString():"",t.wkid!==void 0&&t.wkid!==null?t.wkid.toString():"-1",t.wkt!==void 0&&t.wkt!==null?t.wkt.toString():""].join(",")}static fromGE(n){const t=new H;let r="";for(const i of n.steps){const a=b.fromGE(i);t.steps.push(a),r+=a.uid.toString()+","}return t._cachedProjection={},t._gtlistentry=null,t._chain=r,t}getInverse(){const n=new H;n.steps=[];for(let t=this.steps.length-1;t>=0;t--){const r=this.steps[t];n.steps.push(r.getInverse())}return n}getGTListEntry(){let n="";for(const t of this.steps)n+=t.uid.toString()+",";return n!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=n),this._gtlistentry}assignCachedGe(n,t,r){this._cachedProjection[H.cacheKey(n,t)]=r}getCachedGeTransformation(n,t){let r="";for(const a of this.steps)r+=a.uid.toString()+",";r!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=r);const i=this._cachedProjection[H.cacheKey(n,t)];return i===void 0?null:i}}let k=null,Q=null,Re=null,Oe={};const qe=new _t;function Ve(){return!!k&&Xe()}function Ie(e){return N(Re)&&(Re=Promise.all([be(),Ne(()=>import("./geometryEngineBase.82b25ca5.js"),[]).then(n=>n.g),Ne(()=>import("./hydrated.5ed96051.js"),["assets/hydrated.5ed96051.js","assets/index.96cac272.js","assets/index.6fd87b6d.css"])])),Re.then(([,n,{hydratedAdapter:t}])=>{ft(e),Q=t,k=n.default,k._enableProjection(Ut),qe.notify()})}function Ht(e,n,t=null,r=null){return Array.isArray(e)?e.length===0?[]:He(Q,e,e[0].spatialReference,n,t,r):He(Q,[e],e.spatialReference,n,t,r)[0]}function He(e,n,t,r,i=null,a=null){if(N(t)||N(r))return n;if(Ee(t,r,i))return n.map(u=>st(xt(u,t,r)));if(N(i)){const u=H.cacheKey(t,r);Oe[u]!==void 0?i=Oe[u]:(i=kt(t,r,void 0),N(i)&&(i=new H),Oe[u]=i)}if(N(k)||N(e))throw new ye;return J(a)?k._project(e,n,t,r,i,a):k._project(e,n,t,r,i)}function En(e,n){return N(e)?{pending:null,geometry:null}:ce(e.spatialReference,n)?{pending:null,geometry:e}:se(e.spatialReference)&&se(n)?Ee(e.spatialReference,n)||Ve()?{pending:null,geometry:Bt(e,n)}:(Gt(qe),{pending:Ie(),geometry:null}):{pending:null,geometry:null}}function kt(e,n,t=null){if(N(e)||N(n))return null;if(N(k)||N(Q))throw new ye;const r=k._getTransformation(Q,e,n,t,t==null?void 0:t.spatialReference);return r!==null?H.fromGE(r):null}class ye extends at{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}var o;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT",e[e.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=8]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=10]="GCSMOON2000",e[e.LON_LAT=11]="LON_LAT",e[e.PLATE_CARREE=12]="PLATE_CARREE"})(o||(o={}));function Bt(e,n){try{const t=Ht(e,n);if(t==null)return null;"xmin"in e&&"xmin"in t&&(t.zmin=e.zmin,t.zmax=e.zmax);const r=It(t.type,e.spatialReference,n);return J(r)&&r(t),t}catch(t){if(!(t instanceof ye))throw t;return null}}function Ee(e,n,t){return!t&&(!!ce(e,n)||se(e)&&se(n)&&!!tt(e,n,nt))}async function ln(e,n,t,r){if(Ve())return De(r);if(Array.isArray(e)){for(const{source:i,dest:a,geographicTransformation:u}of e)if(!Ee(i,a,u))return Ie(r)}else if(!Ee(e,n,t))return Ie(r);return De(r)}function xt(e,n,t){return e?"x"in e?vt(e,n,new it,t,0):"xmin"in e?$t(e,n,new ut,t,0):"rings"in e?Je(e,n,new Pt,t,0):"paths"in e?jt(e,n,new Et,t,0):"points"in e?Yt(e,n,new lt,t,0):null:null}function vt(e,n,t,r,i){M[0]=e.x,M[1]=e.y;const a=e.z;return M[2]=a!==void 0?a:i,te(M,n,0,M,r,0,1)?(t.x=M[0],t.y=M[1],t.spatialReference=r,a===void 0?(t.z=void 0,t.hasZ=!1):(t.z=M[2],t.hasZ=!0),e.m===void 0?(t.m=void 0,t.hasM=!1):(t.m=e.m,t.hasM=!0),t):null}function Yt(e,n,t,r,i){const{points:a,hasZ:u,hasM:s}=e,l=[],E=a.length,P=[];for(const c of a)P.push(c[0],c[1],u?c[2]:i);if(!te(P,n,0,P,r,0,E))return null;for(let c=0;c<E;++c){const S=3*c,f=P[S],A=P[S+1];u&&s?l.push([f,A,P[S+2],a[c][3]]):u?l.push([f,A,P[S+2]]):s?l.push([f,A,a[c][2]]):l.push([f,A])}return t.points=l,t.spatialReference=r,t.hasZ=u,t.hasM=s,t}function jt(e,n,t,r,i){const{paths:a,hasZ:u,hasM:s}=e,l=[];return Qe(a,u!=null?u:!1,s!=null?s:!1,n,l,r,i)?(t.paths=l,t.spatialReference=r,t.hasZ=u,t.hasM=s,t):null}function cn(e,n,t=n.spatialReference,r=0){return J(e.spatialReference)&&J(t)&&J(Je(e,e.spatialReference,n,t,r))}function Je(e,n,t,r,i){const{rings:a,hasZ:u,hasM:s}=e,l=[];return Qe(a,u!=null?u:!1,s!=null?s:!1,n,l,r,i)?(t.rings=l,t.spatialReference=r,t.hasZ=u,t.hasM=s,t):null}function $t(e,n,t,r,i){const{xmin:a,ymin:u,xmax:s,ymax:l,hasZ:E,hasM:P}=e;return ke(a,u,E?e.zmin:i,n,M,r)?(t.xmin=M[0],t.ymin=M[1],E&&(t.zmin=M[2]),ke(s,l,E?e.zmax:i,n,M,r)?(t.xmax=M[0],t.ymax=M[1],E&&(t.zmax=M[2]),P&&(t.mmin=e.mmin,t.mmax=e.mmax),t.spatialReference=r,t):null):null}function fn(e,n,t,r=0){M[0]=e.x,M[1]=e.y;const i=e.z;return M[2]=i!==void 0?i:r,te(M,e.spatialReference,0,n,t,0,1)}function ke(e,n,t,r,i,a){return re[0]=e,re[1]=n,re[2]=t,te(re,r,0,i,a,0,1)}function te(e,n,t,r,i,a,u=1){const s=tt(n,i,nt);if(N(s))return!1;if(s===R){if(e===r&&t===a)return!0;const E=t+3*u;for(let P=t,c=a;P<E;P++,c++)r[c]=e[P];return!0}const l=t+3*u;for(let E=t,P=a;E<l;E+=3,P+=3)s(e,E,r,P);return!0}function Qe(e,n,t,r,i,a,u=0){const s=new Array;for(const E of e)for(const P of E)s.push(P[0],P[1],n?P[2]:u);if(!te(s,r,0,s,a,0,s.length/3))return!1;let l=0;i.length=0;for(const E of e){const P=new Array;for(const c of E)n&&t?P.push([s[l++],s[l++],s[l++],c[3]]):n?P.push([s[l++],s[l++],s[l++]]):t?(P.push([s[l++],s[l++],c[2]]),l++):(P.push([s[l++],s[l++]]),l++);i.push(P)}return!0}function Sn(e,n,t,r){if(N(e)||N(r))return!1;const i=le(e,an),a=le(r,un);if(i===a&&!Be(a)&&(i!==o.UNKNOWN||ce(e,r)))return Ft(t,n),!0;if(Be(a)){const u=q[i][o.LON_LAT],s=q[o.LON_LAT][a];return!N(u)&&!N(s)&&(u(n,0,w,0),s(w,0,U,0),et(h*w[0],h*w[1],t),t[12]=U[0],t[13]=U[1],t[14]=U[2],!0)}if((a===o.WEB_MERCATOR||a===o.PLATE_CARREE)&&(i===o.WGS84||i===o.CGCS2000&&a===o.PLATE_CARREE||i===o.SPHERICAL_ECEF||i===o.WEB_MERCATOR)){const u=q[i][o.LON_LAT],s=q[o.LON_LAT][a];return!N(u)&&!N(s)&&(u(n,0,w,0),s(w,0,U,0),i===o.SPHERICAL_ECEF?Kt(h*w[0],h*w[1],t):mt(t),t[12]=U[0],t[13]=U[1],t[14]=U[2],!0)}return!1}function Be(e){return e===o.SPHERICAL_ECEF||e===o.SPHERICAL_MARS_PCPF||e===o.SPHERICAL_MOON_PCPF}function et(e,n,t){const r=Math.sin(e),i=Math.cos(e),a=Math.sin(n),u=Math.cos(n),s=t;return s[0]=-r,s[4]=-a*i,s[8]=u*i,s[12]=0,s[1]=i,s[5]=-a*r,s[9]=u*r,s[13]=0,s[2]=0,s[6]=u,s[10]=a,s[14]=0,s[3]=0,s[7]=0,s[11]=0,s[15]=1,s}function Kt(e,n,t){return et(e,n,t),Wt(t,t),t}function le(e,n){return e?n.spatialReference===e?n.spatialReferenceId:(n.spatialReference=e,"metersPerUnit"in n&&(n.metersPerUnit=St(e,1)),e.wkt===At.wkt?n.spatialReferenceId=o.SPHERICAL_ECEF:pt(e)?n.spatialReferenceId=o.WGS84:Ct(e)?n.spatialReferenceId=o.WEB_MERCATOR:Rt(e)?n.spatialReferenceId=o.PLATE_CARREE:e.wkt===Ot.wkt?n.spatialReferenceId=o.WGS84_ECEF:e.wkid===Nt.CGCS2000?n.spatialReferenceId=o.CGCS2000:e.wkt===Tt.wkt?n.spatialReferenceId=o.SPHERICAL_MARS_PCPF:e.wkt===Mt.wkt?n.spatialReferenceId=o.SPHERICAL_MOON_PCPF:gt(e)?n.spatialReferenceId=o.GCSMARS2000:Lt(e)?n.spatialReferenceId=o.GCSMOON2000:n.spatialReferenceId=o.UNKNOWN):o.UNKNOWN}function R(e,n,t,r){e!==t&&(t[r++]=e[n++],t[r++]=e[n++],t[r]=e[n])}function z(e,n,t,r){t[r++]=Z*(e[n++]/g.radius),t[r++]=Z*(Math.PI/2-2*Math.atan(Math.exp(-e[n++]/g.radius))),t[r]=e[n]}function Xt(e,n,t,r){z(e,n,t,r),Y(t,r,t,r)}function bt(e,n,t,r){z(e,n,t,r),$(t,r,t,r)}function zt(e,n,t,r,i){const a=.4999999*Math.PI,u=dt(h*e[n+1],-a,a),s=Math.sin(u);t[r++]=h*e[n]*i.radius,t[r++]=i.halfSemiMajorAxis*Math.log((1+s)/(1-s)),t[r]=e[n+2]}function ee(e,n,t,r){zt(e,n,t,r,g)}const xe=g.radius*Math.PI/180,ve=180/(g.radius*Math.PI);function x(e,n,t,r){t[r]=e[n]*xe,t[r+1]=e[n+1]*xe,t[r+2]=e[n+2]}function v(e,n,t,r){t[r]=e[n]*ve,t[r+1]=e[n+1]*ve,t[r+2]=e[n+2]}function Zt(e,n,t,r){z(e,n,t,r),x(t,r,t,r)}function qt(e,n,t,r){K(e,n,t,r),x(t,r,t,r)}function Vt(e,n,t,r){j(e,n,t,r),x(t,r,t,r)}function Jt(e,n,t,r){v(e,n,t,r),Y(t,r,t,r)}function Qt(e,n,t,r){v(e,n,t,r),ee(t,r,t,r)}function en(e,n,t,r){v(e,n,t,r),$(t,r,t,r)}function Fe(e,n,t,r,i){const a=i+e[n+2],u=h*e[n+1],s=h*e[n],l=Math.cos(u);t[r++]=Math.cos(s)*l*a,t[r++]=Math.sin(s)*l*a,t[r]=Math.sin(u)*a}function Ye(e,n,t,r){Fe(e,n,t,r,_e.radius)}function je(e,n,t,r){Fe(e,n,t,r,V.radius)}function Y(e,n,t,r){Fe(e,n,t,r,g.radius)}function me(e,n,t,r,i){const a=e[n],u=e[n+1],s=e[n+2],l=Math.sqrt(a*a+u*u+s*s),E=yt(s/(l===0?1:l)),P=Math.atan2(u,a);t[r++]=Z*P,t[r++]=Z*E,t[r]=l-i}function $e(e,n,t,r){me(e,n,t,r,_e.radius)}function Ke(e,n,t,r){me(e,n,t,r,V.radius)}function j(e,n,t,r){me(e,n,t,r,g.radius)}function tn(e,n,t,r){j(e,n,t,r),ee(t,r,t,r)}function nn(e,n,t,r){j(e,n,t,r),$(t,r,t,r)}function on(e,n,t,r,i){const a=h*e[n],u=h*e[n+1],s=e[n+2],l=Math.sin(u),E=Math.cos(u),P=i.radius/Math.sqrt(1-i.eccentricitySquared*l*l);t[r++]=(P+s)*E*Math.cos(a),t[r++]=(P+s)*E*Math.sin(a),t[r++]=(P*(1-i.eccentricitySquared)+s)*l}function $(e,n,t,r){on(e,n,t,r,g)}function K(e,n,t,r){const i=Dt,a=e[n],u=e[n+1],s=e[n+2];let l,E,P,c,S,f,A,p,C,T,y,F,m,G,L,Se,Ae,pe,X,we,Ue;l=Math.abs(s),E=a*a+u*u,P=Math.sqrt(E),c=E+s*s,S=Math.sqrt(c),we=Math.atan2(u,a),f=s*s/c,A=E/c,G=i.a2/S,L=i.a3-i.a4/S,A>.3?(p=l/S*(1+A*(i.a1+G+f*L)/S),X=Math.asin(p),T=p*p,C=Math.sqrt(1-T)):(C=P/S*(1-f*(i.a5-G-A*L)/S),X=Math.acos(C),T=1-C*C,p=Math.sqrt(T)),y=1-g.eccentricitySquared*T,F=g.radius/Math.sqrt(y),m=i.a6*F,G=P-F*C,L=l-m*p,Ae=C*G+p*L,Se=C*L-p*G,pe=Se/(m/y+Ae),X+=pe,Ue=Ae+Se*pe/2,s<0&&(X=-X),t[r++]=Z*we,t[r++]=Z*X,t[r]=Ue}function rn(e,n,t,r){K(e,n,t,r),Y(t,r,t,r)}function _n(e,n,t,r){K(e,n,t,r),ee(t,r,t,r)}const q={[o.WGS84]:{[o.CGCS2000]:null,[o.GCSMARS2000]:null,[o.GCSMOON2000]:null,[o.LON_LAT]:R,[o.WGS84_COMPARABLE_LON_LAT]:R,[o.SPHERICAL_ECEF]:Y,[o.SPHERICAL_MARS_PCPF]:null,[o.SPHERICAL_MOON_PCPF]:null,[o.UNKNOWN]:null,[o.WEB_MERCATOR]:ee,[o.PLATE_CARREE]:x,[o.WGS84]:R,[o.WGS84_ECEF]:$},[o.CGCS2000]:{[o.CGCS2000]:R,[o.GCSMARS2000]:null,[o.GCSMOON2000]:null,[o.LON_LAT]:R,[o.WGS84_COMPARABLE_LON_LAT]:R,[o.SPHERICAL_ECEF]:Y,[o.SPHERICAL_MARS_PCPF]:null,[o.SPHERICAL_MOON_PCPF]:null,[o.UNKNOWN]:null,[o.WEB_MERCATOR]:null,[o.PLATE_CARREE]:x,[o.WGS84]:null,[o.WGS84_ECEF]:$},[o.GCSMARS2000]:{[o.CGCS2000]:null,[o.GCSMARS2000]:R,[o.GCSMOON2000]:null,[o.LON_LAT]:R,[o.WGS84_COMPARABLE_LON_LAT]:null,[o.SPHERICAL_ECEF]:null,[o.SPHERICAL_MARS_PCPF]:je,[o.SPHERICAL_MOON_PCPF]:null,[o.UNKNOWN]:null,[o.WEB_MERCATOR]:null,[o.PLATE_CARREE]:null,[o.WGS84]:null,[o.WGS84_ECEF]:null},[o.GCSMOON2000]:{[o.CGCS2000]:null,[o.GCSMARS2000]:null,[o.GCSMOON2000]:R,[o.LON_LAT]:R,[o.WGS84_COMPARABLE_LON_LAT]:null,[o.SPHERICAL_ECEF]:null,[o.SPHERICAL_MARS_PCPF]:null,[o.SPHERICAL_MOON_PCPF]:Ye,[o.UNKNOWN]:null,[o.WEB_MERCATOR]:null,[o.PLATE_CARREE]:null,[o.WGS84]:null,[o.WGS84_ECEF]:null},[o.WEB_MERCATOR]:{[o.CGCS2000]:null,[o.GCSMARS2000]:null,[o.GCSMOON2000]:null,[o.LON_LAT]:z,[o.WGS84_COMPARABLE_LON_LAT]:z,[o.SPHERICAL_ECEF]:Xt,[o.SPHERICAL_MARS_PCPF]:null,[o.SPHERICAL_MOON_PCPF]:null,[o.UNKNOWN]:null,[o.WEB_MERCATOR]:R,[o.PLATE_CARREE]:Zt,[o.WGS84]:z,[o.WGS84_ECEF]:bt},[o.WGS84_ECEF]:{[o.CGCS2000]:K,[o.GCSMARS2000]:null,[o.GCSMOON2000]:null,[o.LON_LAT]:K,[o.WGS84_COMPARABLE_LON_LAT]:K,[o.SPHERICAL_ECEF]:rn,[o.SPHERICAL_MARS_PCPF]:null,[o.SPHERICAL_MOON_PCPF]:null,[o.UNKNOWN]:null,[o.WEB_MERCATOR]:_n,[o.PLATE_CARREE]:qt,[o.WGS84]:K,[o.WGS84_ECEF]:R},[o.SPHERICAL_ECEF]:{[o.CGCS2000]:j,[o.GCSMARS2000]:null,[o.GCSMOON2000]:null,[o.LON_LAT]:j,[o.WGS84_COMPARABLE_LON_LAT]:j,[o.SPHERICAL_ECEF]:R,[o.SPHERICAL_MARS_PCPF]:null,[o.SPHERICAL_MOON_PCPF]:null,[o.UNKNOWN]:null,[o.WEB_MERCATOR]:tn,[o.PLATE_CARREE]:Vt,[o.WGS84]:j,[o.WGS84_ECEF]:nn},[o.SPHERICAL_MARS_PCPF]:{[o.CGCS2000]:null,[o.GCSMARS2000]:Ke,[o.GCSMOON2000]:null,[o.LON_LAT]:Ke,[o.WGS84_COMPARABLE_LON_LAT]:null,[o.SPHERICAL_ECEF]:null,[o.SPHERICAL_MARS_PCPF]:R,[o.SPHERICAL_MOON_PCPF]:null,[o.UNKNOWN]:null,[o.WEB_MERCATOR]:null,[o.PLATE_CARREE]:null,[o.WGS84]:null,[o.WGS84_ECEF]:null},[o.SPHERICAL_MOON_PCPF]:{[o.CGCS2000]:null,[o.GCSMARS2000]:null,[o.GCSMOON2000]:$e,[o.LON_LAT]:$e,[o.WGS84_COMPARABLE_LON_LAT]:null,[o.SPHERICAL_ECEF]:null,[o.SPHERICAL_MARS_PCPF]:null,[o.SPHERICAL_MOON_PCPF]:R,[o.UNKNOWN]:null,[o.WEB_MERCATOR]:null,[o.PLATE_CARREE]:null,[o.WGS84]:null,[o.WGS84_ECEF]:null},[o.UNKNOWN]:{[o.CGCS2000]:null,[o.GCSMARS2000]:null,[o.GCSMOON2000]:null,[o.LON_LAT]:null,[o.WGS84_COMPARABLE_LON_LAT]:null,[o.SPHERICAL_ECEF]:null,[o.SPHERICAL_MARS_PCPF]:null,[o.SPHERICAL_MOON_PCPF]:null,[o.UNKNOWN]:R,[o.WEB_MERCATOR]:null,[o.PLATE_CARREE]:null,[o.WGS84]:null,[o.WGS84_ECEF]:null},[o.LON_LAT]:{[o.CGCS2000]:R,[o.GCSMARS2000]:R,[o.GCSMOON2000]:R,[o.LON_LAT]:R,[o.WGS84_COMPARABLE_LON_LAT]:R,[o.SPHERICAL_ECEF]:Y,[o.SPHERICAL_MARS_PCPF]:je,[o.SPHERICAL_MOON_PCPF]:Ye,[o.UNKNOWN]:null,[o.WEB_MERCATOR]:ee,[o.PLATE_CARREE]:x,[o.WGS84]:R,[o.WGS84_ECEF]:$},[o.WGS84_COMPARABLE_LON_LAT]:{[o.CGCS2000]:null,[o.GCSMARS2000]:null,[o.GCSMOON2000]:null,[o.LON_LAT]:R,[o.WGS84_COMPARABLE_LON_LAT]:R,[o.SPHERICAL_ECEF]:Y,[o.SPHERICAL_MARS_PCPF]:null,[o.SPHERICAL_MOON_PCPF]:null,[o.UNKNOWN]:null,[o.WEB_MERCATOR]:null,[o.PLATE_CARREE]:x,[o.WGS84]:R,[o.WGS84_ECEF]:$},[o.PLATE_CARREE]:{[o.CGCS2000]:v,[o.GCSMARS2000]:null,[o.GCSMOON2000]:null,[o.LON_LAT]:v,[o.WGS84_COMPARABLE_LON_LAT]:v,[o.SPHERICAL_ECEF]:Jt,[o.SPHERICAL_MARS_PCPF]:null,[o.SPHERICAL_MOON_PCPF]:null,[o.UNKNOWN]:null,[o.WEB_MERCATOR]:Qt,[o.PLATE_CARREE]:R,[o.WGS84]:v,[o.WGS84_ECEF]:en}};function tt(e,n,t=We()){return N(e)||N(n)?null:sn(e,n,t).projector}function sn(e,n,t){if(N(e)||N(n)||t.source.spatialReference===e&&t.dest.spatialReference===n)return t;const r=le(e,t.source),i=le(n,t.dest);return r===o.UNKNOWN&&i===o.UNKNOWN?ce(e,n)?t.projector=R:t.projector=null:t.projector=q[r][i],t}function We(){return{source:{spatialReference:null,spatialReferenceId:o.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:o.UNKNOWN,metersPerUnit:1},projector:R}}const an={spatialReference:null,spatialReferenceId:o.UNKNOWN},un={spatialReference:null,spatialReferenceId:o.UNKNOWN},nt=We();We();const h=ht(1),Z=ct(1),re=fe(),w=fe(),U=fe(),M=fe();export{Ee as A,Me as E,fn as H,Pe as O,Te as P,te as U,cn as W,O as a,Le as b,Ve as e,ln as f,He as l,Sn as q,Ht as r,H as s,Ie as t,En as u};
